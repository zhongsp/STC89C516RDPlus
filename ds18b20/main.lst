C51 COMPILER V9.60.0.0   MAIN                                                              06/27/2022 19:37:44 PAGE 1   


C51 COMPILER V9.60.0.0, COMPILATION OF MODULE MAIN
OBJECT MODULE PLACED IN main.obj
COMPILER INVOKED BY: C:\Keil_v5\C51\BIN\C51.EXE User\main.c OPTIMIZE(8,SPEED) BROWSE INCDIR(.\App;.\Public) DEBUG OBJECT
                    -EXTEND PRINT(.\main.lst) OBJECT(main.obj)

line level    source

   1          /********************************************************************
   2          ******************
   3          实验名称：I2C-EEPROM 实验
   4          接线说明：
   5          实验现象：下载程序后，数码管右4 位显示0，按K1 键将数据写入到EEPROM 内保存，
   6          按K2 键读取EEPROM 内保存的数据，按K3 键显示数据加1，按K4 键显示数据清
   7          零，
   8          最大能写入的数据是255。
   9          注意事项：
  10          *********************************************************************
  11          ******************/
  12          
  13          #include "public.h"
  14          #include "ds18b20.h"
  15          #include "smg.h"
  16          gsmg_code[17] = {0x3f, 0x06, 0x5b, 0x4f, 0x66, 0x6d, 0x7d, 0x07,
*** WARNING C231 IN LINE 16 OF User\main.c: 'gsmg_code': redefinition
  17                                     0x7f, 0x6f, 0x77, 0x7c, 0x39, 0x5e, 0x79, 0x71};
  18          void main()
  19          {
  20   1          u8 i = 0;
  21   1          int temp_value;
  22   1          u8 temp_buf[5];
  23   1          
  24   1          ds18b20_init();
  25   1          
  26   1          while (1)
  27   1          {
  28   2              i++;
  29   2              if (i % 50 == 0)
  30   2                  temp_value = ds18b20_read_temperture()*10;
  31   2              
  32   2              if (temp_value < 0)
  33   2              {
  34   3                  temp_value = -temp_value;
  35   3                  temp_buf[0] = 0x40;
  36   3              }
  37   2              else
  38   2              {
  39   3                  temp_buf[0] = 0x00;
  40   3              }
  41   2              
  42   2              temp_buf[1]=gsmg_code[temp_value/1000];//百位
  43   2              temp_buf[2]=gsmg_code[temp_value%1000/100];//十位
  44   2              temp_buf[3]=gsmg_code[temp_value%1000%100/10]|0x80;//个位+小数点
  45   2              temp_buf[4]=gsmg_code[temp_value%1000%100%10];//小数点后一位
  46   2              smg_display(temp_buf,4);
  47   2          }
  48   1      }


MODULE INFORMATION:   STATIC OVERLAYABLE
   CODE SIZE        =    196    ----
   CONSTANT SIZE    =   ----    ----
C51 COMPILER V9.60.0.0   MAIN                                                              06/27/2022 19:37:44 PAGE 2   

   XDATA SIZE       =   ----    ----
   PDATA SIZE       =   ----    ----
   DATA SIZE        =     34       8
   IDATA SIZE       =   ----    ----
   BIT SIZE         =   ----    ----
END OF MODULE INFORMATION.


C51 COMPILATION COMPLETE.  1 WARNING(S),  0 ERROR(S)
